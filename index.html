<!DOCTYPE html>
<html lang="ru" class="no-touchevents">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="description"
        content="Беру - маркетплейс от Яндекса и Сбербанка, поможет вам найти и купить подходящий товар по выгодной цене среди большого ассортимента товаров быстро и качественно!" />
    <title>Беру Выгоднее</title>
    <link type="text/css" rel="stylesheet" href="dist/css/style.css" />
    <!--since IE11 doesn't support es modules, use imports and injection by script-->
    <link rel="import" href="./src/components/header/header.html">
    <link rel="import" href="./src/components/includes/includes.html">
    <link rel="import" href="./src/components/economy/economy.html">
    <link rel="import" href="./src/components/footer/footer.html">
    <link rel="import" href="./src/components/sticky_header/sticky_header.html" class="sticky-header__link">
</head>

<body class="page">
    <script type="text/javascript" src="dist/js/html_imports.js" async></script>
    <div class="page-wrapper">
        <header class="header">
            <script>
                document.addEventListener('HTMLImportsLoaded', function () {
                    var stickyHead = document.querySelector(".sticky-header__link");
                    var stickyImport = stickyHead.import.querySelector(".header__sticky");
                    document.querySelector(".header").appendChild(stickyImport.cloneNode(true));
                });
            </script>
        </header>
        <div class="content">
            <div class="page-content">
                <script>
                document.addEventListener('HTMLImportsLoaded', function () {
                    var classArray = [".page-content__head",
                        ".page-content__includes",
                        ".page-content__economy",
                        ".footer"];
                    var linkArray = document.querySelectorAll("link[rel=import]:not([class='sticky-header__link'])");
                    var content = Array.from(linkArray).map((item, index) => {
                        return item.import.querySelector(classArray[index]);
                    });
                    var rootElem = document.querySelector(".page-content");
                    content.forEach((node) => {
                        rootElem.appendChild(node.cloneNode(true));
                    });
                });
                </script>
            </div>
        </div>
    </div>
    </div>
    <script type="text/javascript" src="dist/js/main.js" async></script>
</body>

</html>
